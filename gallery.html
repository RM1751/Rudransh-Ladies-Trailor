<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery - Rudrans Ladies Tailoring</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <h1>ğŸ§µ Rudrans</h1>
                <span>Ladies Tailoring at Doorstep</span>
            </div>
            <button class="nav-toggle" id="navToggle">â˜°</button>
            <ul class="nav-menu" id="navMenu">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="gallery.html" class="active">Gallery</a></li>
                <li><a href="booking.html">Book Now</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Page Header -->
    <header class="page-header">
        <div class="container">
            <h1>Our Gallery</h1>
            <p>Browse our collection of custom stitched garments</p>
        </div>
    </header>

    <!-- Gallery Section -->
    <section class="gallery-section">
        <div class="container">
            <!-- Filters -->
            <div class="gallery-filters" id="galleryFilters">
                <button class="filter-btn active" data-filter="all" onclick="applyFilter(this, 'all')">All</button>
                <button class="filter-btn" data-filter="blouse" onclick="applyFilter(this, 'blouse')">Blouses</button>
                <button class="filter-btn" data-filter="kurti" onclick="applyFilter(this, 'kurti')">Kurtis</button>
                <button class="filter-btn" data-filter="salwar" onclick="applyFilter(this, 'salwar')">Salwar Suits</button>
                <button class="filter-btn" data-filter="lehenga" onclick="applyFilter(this, 'lehenga')">Lehengas</button>
                <button class="filter-btn" data-filter="gown" onclick="applyFilter(this, 'gown')">Gowns</button>
            </div>

            <!-- Image Detail Modal -->
    <div id="imageModal" class="image-modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <div class="modal-body">
                <div class="modal-image">
                    <img id="modalImg" src="" alt="">
                </div>
                <div class="modal-details">
                    <span id="modalCategory" class="modal-category">Category</span>
                    <h2 id="modalTitle">Title</h2>
                    <p id="modalDesc">Description</p>
                    <div class="modal-actions">
                        <a href="booking.html" class="btn btn-primary btn-large">
                            ğŸ“‹ Book This Order
                        </a>
                        <a href="https://api.whatsapp.com/message/5ENPHPUVUVYOF1?autoload=1&app_absent=0" 
                           class="btn btn-whatsapp" target="_blank">
                            <svg viewBox="0 0 24 24" width="20" height="20" style="vertical-align: middle; margin-right: 8px;">
                                <path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12c0 2.17.7 4.19 1.89 5.83L2 22l4.17-1.89A9.93 9.93 0 0012 22c5.52 0 10-4.48 10-10S17.52 2 12 2zm0 18a8 8 0 01-4.08-1.12l-.29-.17-3.45.93.93-3.45-.18-.29A8 8 0 014 12a8 8 0 118 8zm4.36-5.92c-.24-.12-1.42-.7-1.64-.78-.22-.08-.38-.12-.54.12-.16.24-.6.78-.74.94-.14.16-.28.18-.52.06a6.45 6.45 0 01-1.9-1.18 7.12 7.12 0 01-1.31-1.63c-.14-.24 0-.38.1-.5.1-.12.24-.28.36-.42.12-.14.16-.24.24-.4.08-.16.04-.3-.02-.42-.06-.12-.54-1.28-.74-1.76-.2-.46-.4-.4-.54-.4l-.46-.01c-.16 0-.42.06-.62.3-.2.24-.82.8-.82 1.95 0 1.15.84 2.26.96 2.42.12.16 1.64 2.52 3.98 3.52.56.24.98.38 1.32.5.56.18 1.06.16 1.46.1.44-.06 1.42-.58 1.62-1.14.2-.56.2-1.04.14-1.14-.06-.1-.22-.16-.46-.28z"/>
                            </svg>
                            Chat on WhatsApp
                        </a>
                    </div>
                    <div class="modal-note">
                        <p>ğŸ’¡ <strong>How to Order:</strong></p>
                        <ol>
                            <li>Click "Book This Order" button</li>
                            <li>Fill the form with your measurements</li>
                            <li>Submit - details will be sent to our WhatsApp</li>
                            <li>We'll call you to confirm your order!</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Uploaded Images Section -->
            <h3 style="color: #8B0000; margin: 30px 0 20px; text-align: center;">ğŸ–¼ï¸ Our Work</h3>
            <div class="gallery-grid" id="adminGallery">
                <!-- Admin uploaded images will load here -->
            </div>

            <!-- Sample Gallery Grid (Default Placeholders) -->
            <h3 style="color: #666; margin: 40px 0 20px; text-align: center; font-size: 1.1rem;">âœ¨ Sample Designs</h3>
            <div class="gallery-grid" id="sampleGallery">
                <!-- Blouse Items -->
                <div class="gallery-item" data-category="blouse" onclick="openSampleModal('blouse', 'Princess Cut Blouse', 'Elegant designer blouse with intricate work', 'ğŸ‘”')">
                    <div class="gallery-placeholder">
                        <span class="icon">ğŸ‘”</span>
                        <span>Blouse Sample</span>
                    </div>
                    <div class="gallery-info">
                        <h4>Princess Cut Blouse</h4>
                        <p>Elegant designer blouse with intricate work</p>
                        <p style="color: var(--primary); font-size: 0.85rem; margin-top: 8px;">ğŸ‘† Click to view & order</p>
                    </div>
                </div>

                <!-- Kurti Items -->
                <div class="gallery-item" data-category="kurti" onclick="openSampleModal('kurti', 'Anarkali Kurti', 'Flared Anarkali style kurti', 'ğŸ‘—')">
                    <div class="gallery-placeholder">
                        <span class="icon">ğŸ‘—</span>
                        <span>Kurti Sample</span>
                    </div>
                    <div class="gallery-info">
                        <h4>Anarkali Kurti</h4>
                        <p>Flared Anarkali style kurti</p>
                        <p style="color: var(--primary); font-size: 0.85rem; margin-top: 8px;">ğŸ‘† Click to view & order</p>
                    </div>
                </div>

                <!-- Salwar Items -->
                <div class="gallery-item" data-category="salwar" onclick="openSampleModal('salwar', 'Punjabi Salwar Suit', 'Traditional Punjabi style suit', 'ğŸ¥»')">
                    <div class="gallery-placeholder">
                        <span class="icon">ğŸ¥»</span>
                        <span>Salwar Sample</span>
                    </div>
                    <div class="gallery-info">
                        <h4>Punjabi Salwar Suit</h4>
                        <p>Traditional Punjabi style suit</p>
                        <p style="color: var(--primary); font-size: 0.85rem; margin-top: 8px;">ğŸ‘† Click to view & order</p>
                    </div>
                </div>

                <!-- Lehenga Items -->
                <div class="gallery-item" data-category="lehenga" onclick="openSampleModal('lehenga', 'Bridal Lehenga', 'Heavy bridal work lehenga', 'ğŸ’ƒ')">
                    <div class="gallery-placeholder">
                        <span class="icon">ğŸ’ƒ</span>
                        <span>Lehenga Sample</span>
                    </div>
                    <div class="gallery-info">
                        <h4>Bridal Lehenga</h4>
                        <p>Heavy bridal work lehenga</p>
                        <p style="color: var(--primary); font-size: 0.85rem; margin-top: 8px;">ğŸ‘† Click to view & order</p>
                    </div>
                </div>

                <!-- Gown Items -->
                <div class="gallery-item" data-category="gown" onclick="openSampleModal('gown', 'Evening Gown', 'Elegant evening party gown', 'ğŸ‘°')">
                    <div class="gallery-placeholder">
                        <span class="icon">ğŸ‘°</span>
                        <span>Gown Sample</span>
                    </div>
                    <div class="gallery-info">
                        <h4>Evening Gown</h4>
                        <p>Elegant evening party gown</p>
                        <p style="color: var(--primary); font-size: 0.85rem; margin-top: 8px;">ğŸ‘† Click to view & order</p>
                    </div>
                </div>
            </div>


        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta">
        <div class="container">
            <h2>Like What You See?</h2>
            <p>Book an appointment and get your custom garment stitched!</p>
            <a href="booking.html" class="btn btn-primary btn-large">Book Now</a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3>ğŸ§µ Rudrans Ladies Tailoring</h3>
                    <p>at Doorstep</p>
                </div>
                <div class="footer-contact">
                    <p>ğŸ“ +91 88405 86403</p>
                    <p>ğŸ“± WhatsApp Available</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 Rudrans Ladies Tailoring. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- WhatsApp Floating Button -->
    <a href="https://api.whatsapp.com/message/5ENPHPUVUVYOF1?autoload=1&app_absent=0" 
       class="whatsapp-float" 
       target="_blank" 
       title="Chat on WhatsApp">
        <svg viewBox="0 0 32 32" width="32" height="32">
            <path fill="currentColor" d="M16 2C8.268 2 2 8.268 2 16c0 2.585.686 5.012 1.882 7.118L2 30l6.882-1.882A13.942 13.942 0 0016 30c7.732 0 14-6.268 14-14S23.732 2 16 2zm0 25.2a11.2 11.2 0 01-5.67-1.536l-.408-.244-4.092 1.12 1.092-3.992-.264-.42A11.185 11.185 0 014.8 16 11.22 11.22 0 0116 4.8 11.22 11.22 0 0127.2 16 11.22 11.22 0 0116 27.2zm6.16-8.42c-.34-.17-2.02-1-2.33-1.11-.31-.11-.54-.17-.76.17-.22.34-.86 1.11-1.06 1.34-.2.23-.39.26-.73.09a9.15 9.15 0 01-2.7-1.67 10.1 10.1 0 01-1.87-2.32c-.2-.34 0-.52.15-.69.15-.15.34-.39.51-.58.17-.2.22-.34.34-.56.11-.22.06-.42-.03-.58-.09-.17-.76-1.83-1.04-2.5-.27-.65-.55-.56-.76-.57l-.65-.01c-.22 0-.58.08-.88.42-.31.34-1.17 1.14-1.17 2.78 0 1.64 1.19 3.23 1.36 3.45.17.22 2.34 3.59 5.68 5.03.79.34 1.41.54 1.89.7.79.25 1.51.22 2.08.13.63-.1 2.02-.83 2.31-1.63.28-.8.28-1.49.2-1.63-.09-.15-.32-.23-.66-.39z"/>
        </svg>
    </a>

    <script src="js/main.js"></script>
    <script>
        // Store all images for modal access
        let allImages = [];

        // Load admin uploaded images
        function loadAdminImages(filter = 'all') {
            const adminGallery = document.getElementById('adminGallery');
            allImages = JSON.parse(localStorage.getItem('galleryImages') || '[]');
            
            if (allImages.length === 0) {
                adminGallery.innerHTML = '<p style="color: #666; text-align: center; grid-column: 1/-1; padding: 40px;">No images uploaded yet. Upload from Admin Panel.</p>';
                return;
            }

            const filteredImages = filter === 'all' 
                ? allImages 
                : allImages.filter(img => img.category === filter);

            if (filteredImages.length === 0) {
                adminGallery.innerHTML = '<p style="color: #666; text-align: center; grid-column: 1/-1; padding: 40px;">No images in this category.</p>';
                return;
            }

            adminGallery.innerHTML = filteredImages.map((img, index) => `
                <div class="gallery-item" data-category="${img.category}" onclick="openModal(${img.id})">
                    <div class="gallery-image-wrapper" style="aspect-ratio: 1; overflow: hidden; border-radius: 8px 8px 0 0;">
                        <img src="${img.dataUrl}" alt="${escapeHtml(img.title)}" style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                    </div>
                    <div class="gallery-info">
                        <h4>${escapeHtml(img.title)}</h4>
                        <p>${escapeHtml(img.description || '')}</p>
                        <p style="color: var(--primary); font-size: 0.85rem; margin-top: 8px;">ğŸ‘† Click to view & order</p>
                    </div>
                </div>
            `).join('');
        }

        // Open Modal for Admin Images
        function openModal(imageId) {
            const image = allImages.find(img => img.id === imageId);
            if (!image) return;

            document.getElementById('modalImg').src = image.dataUrl;
            document.getElementById('modalImg').alt = image.title;
            document.getElementById('modalCategory').textContent = image.category;
            document.getElementById('modalTitle').textContent = image.title;
            document.getElementById('modalDesc').textContent = image.description || 'Beautiful custom stitched garment by Rudrans Ladies Tailoring.';

            // Update booking link with pre-filled info
            const bookingLink = document.querySelector('.modal-actions .btn-primary');
            bookingLink.href = `booking.html?category=${image.category}&style=${encodeURIComponent(image.title)}`;

            document.getElementById('imageModal').classList.add('active');
            document.body.style.overflow = 'hidden'; // Prevent background scroll
        }

        // Open Modal for Sample Images
        function openSampleModal(category, title, description, icon) {
            // Create a placeholder image with icon
            const canvas = document.createElement('canvas');
            canvas.width = 400;
            canvas.height = 500;
            const ctx = canvas.getContext('2d');
            
            // Gradient background
            const gradient = ctx.createLinearGradient(0, 0, 400, 500);
            gradient.addColorStop(0, '#f0e6e0');
            gradient.addColorStop(1, '#e0d6d0');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, 400, 500);
            
            // Draw icon text
            ctx.font = '120px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(icon, 200, 220);
            
            // Draw title
            ctx.font = 'bold 24px Arial';
            ctx.fillStyle = '#8B0000';
            ctx.fillText(title, 200, 380);
            
            // Draw subtitle
            ctx.font = '16px Arial';
            ctx.fillStyle = '#666';
            ctx.fillText('Sample Design', 200, 420);

            document.getElementById('modalImg').src = canvas.toDataURL();
            document.getElementById('modalImg').alt = title;
            document.getElementById('modalCategory').textContent = category;
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalDesc').textContent = description;

            // Update booking link with pre-filled info
            const bookingLink = document.querySelector('.modal-actions .btn-primary');
            bookingLink.href = `booking.html?category=${category}&style=${encodeURIComponent(title)}`;

            document.getElementById('imageModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Close Modal
        function closeModal() {
            document.getElementById('imageModal').classList.remove('active');
            document.body.style.overflow = '';
        }

        // Close modal when clicking outside
        document.getElementById('imageModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Filter function for both galleries
        function applyFilter(btn, filter) {
            // Update active button
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            
            // Filter sample gallery
            const sampleItems = document.querySelectorAll('#sampleGallery .gallery-item');
            sampleItems.forEach(item => {
                const category = item.getAttribute('data-category');
                if (filter === 'all' || category === filter) {
                    item.style.display = 'block';
                    item.style.animation = 'fadeIn 0.5s';
                } else {
                    item.style.display = 'none';
                }
            });
            
            // Reload admin gallery with filter
            loadAdminImages(filter);
        }

        // Load admin images on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadAdminImages();
        });
    </script>
</body>
</html>
